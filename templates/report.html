{% extends 'projects.html' %}
{% load static %}

{% block title %}Reports{% endblock %}

{% block body %}

    <div class="d-flex flex-column-fluid">
        <!--begin::Container-->
        <div class="container">
            <!-- begin::Card-->
            <div class="card card-custom overflow-hidden">
                <div class="card-body p-0">
                    <!-- begin: Invoice-->
                    <!-- begin: Invoice header-->
                    <div class="row justify-content-center bgi-size-cover bgi-no-repeat py-8 px-8 py-md-27 px-md-0"
                         style="background-image: url({% static '/media/bg/bg-6.jpg' %});">
                        <div class="col-md-9">
                            <div class="d-flex justify-content-between pb-10 pb-md-20 flex-column flex-md-row">
                                <h1 class="display-4 text-white font-weight-boldest mb-10">Report</h1>
                                <div class="d-flex flex-column align-items-md-end px-0">
                                    <span class="text-white d-flex flex-column align-items-md-end opacity-70">
															<span>Kanban Task Manager</span>
															<span>Version 1.0</span>
														</span>
                                </div>
                            </div>
                            <div class="border-bottom w-100 opacity-20"></div>
                            <div class="d-flex justify-content-between text-white pt-6">
                                <div class="d-flex flex-column flex-root">
                                    <span class="font-weight-bolde mb-2r">DATA & TIME</span>
                                    <span class="opacity-70">{{ time }}</span>
                                </div>
                                <div class="d-flex flex-column flex-root">
                                    <span class="font-weight-bolder mb-2">GENERATED FOR USER</span>
                                    <div class="d-flex align-items-center">
                                        <div class="symbol symbol-50 mr-5">
                                            <div class="symbol-label"
                                                 style="background-image:url({% static user.profile.profile_photo %})"></div>
                                        </div>
                                        <div class="d-flex flex-column">
                                            <a href="#"
                                               class="font-weight-bold font-size-h5 text-dark-75 text-hover-primary">{{ user.username }}</a>
                                            <div class="navi mt-2">
                                                <a href="#" class="navi-item">
                                                    <span class="navi-link p-0 pb-2">
                                                        <span class="navi-text text-muted text-hover-primary">{{ user.email }}</span>
                                                    </span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="d-flex flex-column flex-root">
                                    <span class="font-weight-bolder mb-2">INCLUDING</span>
                                    <span class="opacity-70">Projects Summary<br>User Summary</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end: Invoice header-->
                    <!-- begin: Invoice body-->
                    <div class="row justify-content-center py-8 px-8 py-md-10 px-md-0">
                        <div class="col-md-9">
                            <div class="table-responsive">
                                <span class="font-weight-bolder font-size-h3 mb-6">All Projects status :</span>
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th class="pl-0 font-weight-bold text-muted text-uppercase">Project</th>
                                        <th class="text-right font-weight-bold text-muted text-uppercase">TO DO</th>
                                        <th class="text-right font-weight-bold text-muted text-uppercase">In Progress
                                        </th>
                                        <th class="text-right font-weight-bold text-muted text-uppercase">In Test
                                        </th>
                                        <th class="text-right font-weight-bold text-muted text-uppercase">Done
                                        </th>
                                        <th class="text-right pr-0 font-weight-bold text-muted text-uppercase">PROGRESS
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for p in p_info %}
                                        <tr class="font-weight-boldest border-bottom-0 font-size-lg">
                                            <td class="border-top-0 pl-0 py-4">{{ p.name }}</td>
                                            <td class="border-top-0 text-right py-4">{{ p.t }}</td>
                                            <td class="border-top-0 text-right py-4">{{ p.d }}</td>
                                            <td class="border-top-0 text-right py-4">{{ p.i }}</td>
                                            <td class="border-top-0 text-right py-4">{{ p.o }}</td>
                                            <td class="text-danger border-top-0 pr-0 py-4 text-right">{{ p.progress }}
                                                %
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- end: Invoice body-->
                    <!-- begin: Invoice footer-->
                    <div class="row justify-content-center bg-gray-100 py-8 px-8 py-md-10 px-md-0">
                        <div class="col-md-9">
                            <div class="d-flex justify-content-between flex-column flex-md-row font-size-lg">
                                <div class="d-flex flex-column mb-10 mb-md-0">
                                    <div class="font-weight-bolder font-size-lg mb-3">User Summary :</div>
                                    <div class="d-flex justify-content-between mb-3">
                                        <span class="mr-15 font-weight-bold">All TO DO Tasks :</span>
                                        <span class="text-right">{{ u_info.todo }}</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-3">
                                        <span class="mr-15 font-weight-bold">All Doing Tasks:</span>
                                        <span class="text-right">{{ u_info.doing }}</span>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <span class="mr-15 font-weight-bold">All Done Tasks :</span>
                                        <span class="text-right">{{ u_info.done }}</span>
                                    </div>
                                </div>
                                <div class="d-flex flex-column text-md-right">
                                    <span class="font-size-lg font-weight-bolder mb-1">PROGRESS</span>
                                    <span class="font-size-h2 font-weight-boldest text-danger mb-1">{{ u_info.progress }} %</span>
                                    <span>Including All Tasks in All Projects</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row justify-content-center py-8 px-8 py-md-10 px-md-0">
                        <div class="col-md-9">
                            <div class="table-responsive">
                                <span class="font-weight-bolder font-size-h3 mb-2">User Status in Projects :</span>
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th class="pl-0 font-weight-bold text-muted text-uppercase">Project</th>
                                        <th class="text-right font-weight-bold text-muted text-uppercase">TO DO</th>
                                        <th class="text-right font-weight-bold text-muted text-uppercase">Doing</th>
                                        <th class="text-right font-weight-bold text-muted text-uppercase">Done
                                        </th>
                                        <th class="text-right pr-0 font-weight-bold text-muted text-uppercase">PROGRESS
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for u in u_in_p %}
                                        <tr class="font-weight-boldest border-bottom-0 font-size-lg">
                                            <td class="border-top-0 pl-0 py-4">{{ u.name }}</td>
                                            <td class="border-top-0 text-right py-4">{{ u.u_info.todo }}</td>
                                            <td class="border-top-0 text-right py-4">{{ u.u_info.doing }}</td>
                                            <td class="border-top-0 text-right py-4">{{ u.u_info.done }}</td>
                                            <td class="text-danger border-top-0 pr-0 py-4 text-right">{{ u.u_info.progress }}
                                                %
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- end: Invoice footer-->
                    <!-- begin: Invoice action-->
                    <div class="row justify-content-center py-8 px-8 py-md-10 px-md-0">
                        <div class="col-md-9">
                            <div class="d-flex justify-content-between">
                                <a href="/boards" class="btn btn-light-primary font-weight-bold">Back
                                </a>
                                <button type="button" class="btn btn-primary font-weight-bold"
                                        onclick="window.print();">Download Report
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- end: Invoice action-->
                    <!-- end: Invoice-->
                </div>
            </div>
            <!-- end::Card-->
        </div>
        <!--end::Container-->
    </div>

{% endblock %}